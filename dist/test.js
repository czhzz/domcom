!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/assets/",n(n.s=5)}([
/*!*******************************************!*\
  !*** ./packages/bdd-test-helper/index.js ***!
  \*******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={};if("undefined"==typeof window)var r=n(/*! chai */7);else r=window.chai;o.expect=r.expect,o.iit=it.only,o.idescribe=describe.only,o.nit=function(){},o.ndescribe=function(){},t.default=o},
/*!***********************************!*\
  !*** ./test/coffee/helper.coffee ***!
  \***********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,(o={}).newDemoNode=function(e){var t;return t=document.createElement("div"),document.body.appendChild(t),e&&t.setAttribute("id",e),t},o.fakeEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",n=arguments.length>2?arguments[2]:void 0;return"number"==typeof n?{target:e,type:t,keyCode:n,preventDefault:function(){},stopPropagation:function(){}}:Object.assign({target:e,type:t,preventDefault:function(){},stopPropagation:function(){}},n)};var r=o;t.default=r},
/*!*************************************!*\
  !*** ./packages/lazy-flow/index.js ***!
  \*************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var o,r,u,c,i,a,d,l=[].slice;(d=n(/*! dc-util */3)).newLine,r=d.funcString,c=function(e){return e.invalidate?e:(e.valid=!1,e.invalidateCallbacks=[],e.onInvalidate=function(t){if("function"!=typeof t)throw new Error("call back should be a function");return(e.invalidateCallbacks||(e.invalidateCallbacks=[])).push(t)},e.offInvalidate=function(t){var n,o;return(o=e.invalidateCallbacks)&&(n=o.indexOf(t))>=0&&(o.splice(n,1),o.length||(e.invalidateCallbacks=null)),e},e.invalidate=function(){var t,n,o;if(e.valid&&e.invalidateCallbacks){for(t=0,n=(o=e.invalidateCallbacks).length;t<n;t++)(0,o[t])();e.valid=!1}return e},e)},i=function(e){var t;return(t=function(){var n;if(arguments.length)throw new Error("flow.renew is not allowed to accept arguments");return n=e.call(this),t.valid=!0,t.invalidate(),n}).toString=function(){return"renew: "+r(e)},c(t)},u=function(e){var t;return c(e),e.invalidate=function(){var t,n,o;if(e.invalidateCallbacks)for(t=0,n=(o=e.invalidateCallbacks).length;t<n;t++)(0,o[t])();return e},t=e.toString,e.toString=function(){return"lazy: "+t.call(e)},e},e.exports=o=function(){var e,t,n,o,a,d,p,s,f,x;if(o=2<=arguments.length?l.call(arguments,0,d=arguments.length-1):(d=0,[]),t=arguments[d++],!o.length)return u(t);for(p=0,f=o.length;p<f;p++)if("function"==typeof(n=o[p])&&!n.invalidate)return i(t);for(e=null,a=c(function(n){return arguments.length?n===e?n:(e=t.call(this,n),a.invalidate(),e):a.valid?e:(a.valid=!0,e=t.call(this))}),s=0,x=o.length;s<x;s++)(n=o[s])&&n.onInvalidate&&n.onInvalidate(a.invalidate);return a.toString=function(){return"flow: ["+function(){var e,t,r;for(r=[],e=0,t=o.length;e<t;e++)n=o[e],r.push(n.toString());return r}().join(",")+"] --\x3e "+r(t)},a},o.pipe=function(){var e,t,n,o,r,u,i,a,d;for(n=2<=arguments.length?l.call(arguments,0,r=arguments.length-1):(r=0,[]),e=arguments[r++],u=0,a=n.length;u<a;u++)if("function"==typeof(t=n[u])&&!t.invalidate)return o=c(function(){var r,u,c,i;if(arguments.length)throw new Error("flow.pipe is not allow to have arguments");for(r=[],c=0,i=n.length;c<i;c++)"function"==typeof(t=n[c])?r.push(t()):r.push(t);return u=e.apply(this,r),o.valid=!0,o.invalidate(),u});for(o=c(function(){var r,u,c;for(o.valid=!0,r=[],u=0,c=n.length;u<c;u++)"function"==typeof(t=n[u])?r.push(t()):r.push(t);return e.apply(this,r)}),i=0,d=n.length;i<d;i++)(t=n[i])&&t.onInvalidate&&t.onInvalidate(o.invalidate);return o},o.react=c,o.lazy=u,o.renew=i,o.flow=o,o.see=a=function(e,t){var n,o;return n=e,(o=function(e){return arguments.length?((e=t?t(e):e)!==n&&(n=e,o.invalidate()),e):(o.valid=!0,n)}).isDuplex=!0,o.toString=function(){return"see: "+e},c(o)},o.seeN=function(){var e,t,n,o,r;for(r=[],n=0,o=(t=1<=arguments.length?l.call(arguments,0):[]).length;n<o;n++)e=t[n],r.push(a(e));return r},Object.defineProperty?(o.bind=function(e,t,n){var o,r,u,i;return(o=Object.getOwnPropertyDescriptor(e,t))&&(r=o.get,u=o.set),r&&r.invalidate||((r=function(){if(arguments.length)throw new Error("should not set value on flow.bind");return r.valid=!0,r.cacheValue}).cacheValue=e[t],i=function(n){if(n!==e[t])return u&&u.call(e,n),r.cacheValue=n,r.invalidate(),n},c(r),r.toString=function(){return(n||"m")+"["+t+"]"},Object.defineProperty(e,t,{get:r,set:i})),r},o.duplex=function(e,t,n){var o,r,u,i;return(o=Object.getOwnPropertyDescriptor(e,t))&&(r=o.get,i=o.set),i&&i.invalidate?i:((u=function(n){return arguments.length?n!==e[t]?(i&&i.call(e,n),r&&r.invalidate&&r.invalidate(),u.cacheValue=n,u.invalidate(),n):void 0:(u.valid=!0,u.cacheValue)}).cacheValue=e[t],c(u),u.isDuplex=!0,u.toString=function(){return(n||"m")+"["+t+"]"},Object.defineProperty(e,t,{get:u,set:u}),u)}):(o.bind=function(e,t,n){var o,r;return(r=e._dcBindMethodMap)||(r=e._dcBindMethodMap={}),e.dcSet$||(e.dcSet$=function(t,n){var o;if(n!==e[t])return r&&r[t]&&r[t].invalidate(),(o=this._dcDuplexMethodMap)&&o[t]&&o[t].invalidate()}),(o=r[t])||((o=r[t]=function(){return o.valid=!0,e[t]}).toString=function(){return(n||"m")+"["+t+"]"},c(o)),o},o.duplex=function(e,t,n){var o,r;return(r=e._dcDuplexMethodMap)||(r=e._dcDuplexMethodMap={}),e.dcSet$||(e.dcSet$=function(t,n){var o;return n!==e[t]&&((o=this._dcBindMethodMap)&&o[t]&&o[t].invalidate(),r&&r[t]&&r[t].invalidate()),n}),(o=r[t])||((o=r[t]=function(n){return arguments.length?e.dcSet$(t,n):(o.valid=!0,e[t])}).isDuplex=!0,o.toString=function(){return(n||"m")+"["+t+"]"},c(o)),o}),o.unary=function(e,t){return"function"!=typeof e?t(e):e.invalidate?o(e,function(){return t(e())}):function(){return t(e())}},o.binary=function(e,t,n){return"function"==typeof e&&"function"==typeof t?e.invalidate&&t.invalidate?o(e,t,function(){return n(e(),t())}):function(){return n(e(),t())}:"function"==typeof e?e.invalidate?o(e,function(){return n(e(),t)}):function(){return n(e(),t)}:"function"==typeof t?t.invalidate?o(t,function(){return n(e,t())}):function(){return n(e,t())}:n(e,t)}},
/*!***********************************!*\
  !*** ./packages/dc-util/index.js ***!
  \***********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var o,r,u,c,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=[].slice;t.isArray=c=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isObject=function(e){return"object"===(void 0===e?"undefined":i(e))&&null!==e},t.cloneObject=function(e){var t,n;for(t in n={},e)n[t]=e[t];return n},t.pairListDict=function(){var e,t,n,o;for(1===(t=1<=arguments.length?a.call(arguments,0):[]).length&&(t=t[0]),n=t.length,e=0,o={};e<n;)o[t[e]]=t[e+1],e+=2;return o},o=function(e,t){var n,o;for(o="",n=0;n++<t;)o+=e;return o},t.newLine=function(e,t,n){return n?"\n"+o(" ",t)+e:e},t.funcString=function(e){var t;if("function"!=typeof e){if(null==e)return"null";if(e.getBaseComponent)return e.toString();try{return JSON.stringify(e)}catch(t){return t,e.toString()}}return t=e.toString(),e.invalidate?t:("return "===(t=(t="function (){"===t.slice(0,12)?t.slice(12,t.length-1):"function () {"===t.slice(0,13)?t.slice(13,t.length-1):t.slice(9)).trim()).slice(0,7)&&(t=t.slice(7)),";"===t[t.length-1]&&(t=t.slice(0,t.length-1)),"fn:"+t)},r=1,t.newDcid=function(){return r++},t.isEven=function(e){for(e<0&&(e=-e);e>0;)e-=2;return 0===e},t.matchCurvedString=function(e,t){var n,o;if("("===e[t])for(o=0;n=e[++t];)if("\\"===n){if(!(n=e[++t]))return}else if("("===n)o++;else if(")"===n){if(0===o)return++t;o--}},t.intersect=function(e){var t,n,o,r,u,c,i;for(n in r={},o=e[0]){for(t=!0,u=0,c=(i=e.slice(1)).length;u<c;u++)if(!i[u][n]){t=!1;break}t&&(r[n]=o[n])}return r},t.substractSet=function(e,t){var n;for(n in t)delete e[n];return e},t.binarySearch=function(e,t){var n,o,r,u;if(!(r=t.length))return 0;if(1===r)return t[0]>=e?0:1;for(u=0,n=r-1;;){if(o=u+Math.floor((n-u)/2),u===n)return t[o]>=e?o:o+1;if(e===t[o])return o;if(e===t[o+1])return o+1;if(e<t[o])n=o;else{if(!(e>t[o+1]))return o+1;u=o+1}}},t.binaryInsert=function(e,t){var n,o,r,u;if(!(r=t.length))return t[0]=e,0;if(1===r)return t[0]===e?0:t[0]>e?(t[1]=t[0],t[0]=e,0):(t[1]=e,1);for(u=0,n=r-1;;){if(o=u+Math.floor((n-u)/2),u===n)return t[o]===e?o:t[o]>e?(t.splice(o,0,e),o):(t.splice(o+1,0,e),o+1);if(e===t[o])return o;if(e===t[o+1])return o+1;if(e<t[o])n=o;else{if(!(e>t[o+1]))return t.splice(o+1,0,e),o+1;u=o+1}}},t.foreach=function(e,t){var n,o,r,u,i,a;if(e){if(c(e))for(u=[],n=i=0,a=e.length;i<a;n=++i)o=e[n],u.push(t(o,n));else for(r in u={},e)o=e[r],u[r]=t(o,r);return u}},u=Object.hasOwnProperty,t.mixin=function(e,t){var n,o;for(n in t)o=t[n],u.call(e,n)||(e[n]=o);return e},t.makeReactMap=function(e){var t,n,o,r,u,c,i,a,d;for(r={},u=0,i=(t=e.split(/\s*,\s*/)).length;u<i;u++)if(1===(n=t[u].trim().split(/\s*:\s*/)).length)r[n[0]]="";else for(o=n[1],c=0,a=(d=n[0].split(/\s+/)).length;c<a;c++)r[d[c]]=o;return r}},
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(o=window)}e.exports=o},
/*!**********************************!*\
  !*** ./test/coffee/index.coffee ***!
  \**********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";dc.alwaysRender=!0,n(/*! ./test-new-dc */6),n(/*! lazy-flow/test-flow */8),n(/*! lazy-flow-at/test-at */10),n(/*! ./test-property */12),n(/*! ./test-toString */13),n(/*! ./test-dc */14),n(/*! ./test-component */15),n(/*! ./test-singleton */16),n(/*! ./test-merge-if */17),n(/*! ./test-group */18),n(/*! ./test-event */19)},
/*!****************************************!*\
  !*** ./test/coffee/test-new-dc.coffee ***!
  \****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var o,r,u=n(/*! bdd-test-helper */0),c=(n(/*! ./helper */1),dc);c.Tag,c.Text,c.List,c.txt,c.list,c.p,o=c.div,c.Html,c.html,c.classFn,c.styleFrom,c.Nothing,r=c.isComponent,c.getters,describe("test-base-component",function(){return afterEach(function(){return dc.reset()}),describe("update BaseBlock",function(){return it("should dc generate a component",function(){var e;return e=dc(),(0,u.expect)(r(e)).to.be.true}),it("dc() chaining call",function(){var e,t;return e={x:1,y:2},t=function(e){var t,n;return t=e.x,n=e.y,o(o(t),o(n))},dc.mvc(t,e)}),it("dc.react should be an backend",function(){var e;return e=dc.react(),(0,u.expect)(e).to.be.instanceof(dc.React)})})})},
/*!***********************!*\
  !*** external "chai" ***!
  \***********************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=chai},
/*!*****************************************!*\
  !*** ./packages/lazy-flow/test-flow.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var o,r,u,c,i,a,d,l,p,s,f,x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};p=n(/*! bdd-test-helper */0),c=p.expect,p.iit,p.idescribe,p.nit,p.ndescribe,p.ddescribe,s=n(/*! lazy-flow */2),d=s.see,o=s.bind,u=s.duplex,a=s.renew,i=s.flow,f=n(/*! ./addon */9),r=f.bindings,l=f.seeAttrs,describe("reactive flow",function(){return it("should see",function(){var e;return e=d(1),c(e()).to.equal(1),c(e(2)).to.equal(2),c(e()).to.equal(2)}),it("should renew",function(){var e,t;return t=1,e=a(function(){return t},!0),c(e()).to.equal(1),c(function(){return e(2)}).to.throw(),t=2,c(e()).to.equal(2)}),it("should flow",function(){var e,t,n;return e=d(1),t=d(2),n=i(e,t,function(){return e()+t()}),c(n()).to.equal(3),e(2),c(n()).to.equal(4)}),it("should flow unary",function(){var e,t,n;return e=(n=r({a:4,b:2})).a_,n.b_,t=i.neg(e),c(t()).to.equal(-4,"neg"),t=i.not(e),c(t()).to.equal(!1,"not"),t=i.abs(i.neg(e)),c(t()).to.equal(4,"abs neg"),t=i.bitnot(e),c(t()).to.equal(-5,"bitnot")}),it("should flow binary",function(){var e,t,n,o;return e=(o=r({a:4,b:2})).a_,t=o.b_,n=i.add(e,t),c(n()).to.equal(6,"add"),n=i.sub(e,t),c(n()).to.equal(2,"sub"),n=i.mul(e,t),c(n()).to.equal(8,"mul"),n=i.div(e,t),c(n()).to.equal(2,"div")}),it("should invalidate flow binary",function(){var e,t,n;return e=d(1),t=d(2),n=i.add(e,t),c(n()).to.equal(3,"add"),e(3),c(n()).to.equal(5,"add 2")}),it("should invalidate bind flow binary",function(){var e,t,n,r;return e=o(n={a:1,b:2},"a","m"),t=o(n,"b","m"),r=i.add(e,t),c(r()).to.equal(3,"add"),c(function(){return e(3)}).to.throw(),c(r()).to.equal(3,"add 2")}),it("should bind",function(){var e,t,n;return e=o(n={a:1},"a"),t=o(n,"a"),c(e()).to.equal(1),c(t()).to.equal(1,"a2"),c(function(){return e(3)}).to.throw(),c(e()).to.equal(1,"a again"),c(t()).to.equal(1,"a2 again")}),it("should process bindings",function(){var e,t,n;return e=(n=r({a:1})).a$,t=n.a_,e(3),c(t()).to.equal(3)}),it("should process multiple bind and duplex on same object and attr",function(){var e,t,n,o,r,a;return e=u(r={a:1,b:2},"a"),n=u(r,"b"),t=u(r,"a"),o=u(r,"b"),a=i.add(e,n),c(a()).to.equal(3,"sum 1"),c(a.valid).to.equal(!0,"valid 1"),t(3),c(a.valid).to.equal(!1,"valid 2"),c(a()).to.equal(5,"sum 2"),a=i.add(t,o),c(a()).to.equal(5,"sum 3"),c(a.valid).to.equal(!0,"valid 3"),t(1),c(a.valid).to.equal(!1,"valid 4"),c(a()).to.equal(3,"sum 4")}),it("should seeAttrs",function(){var e;return l(e={},{x:1}),c(x(e.x)).to.equal("function"),c(e.x()).to.equal(1),l(e,{x:2}),c(x(e.x)).to.equal("function"),c(e.x()).to.equal(2)})})},
/*!*************************************!*\
  !*** ./packages/lazy-flow/addon.js ***!
  \*************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var o,r,u,c,i,a,d,l;l=n(/*! lazy-flow */2),i=l.react,a=l.see,r=l.bind,u=l.duplex,c=l.flow,d=l.unary,o=l.binary,e.exports=c,c.bindings=function(e,t){var n,o;for(n in o={},e)o[n+"$"]=u(e,n,t),o[n+"_"]=r(e,n,t);return o},c.seeAttrs=function(e,t){var n,o,r;for(o in t)r=t[o],"function"==typeof(n=e[o])?n(r):e[o]=a(r);return e},c.neg=function(e){return d(e,function(e){return-e})},c.not=function(e){return d(e,function(e){return!e})},c.bitnot=function(e){return d(e,function(e){return~e})},c.reciprocal=function(e){return d(e,function(e){return 1/e})},c.abs=function(e){return d(e,Math.abs)},c.floor=function(e){return d(e,Math.floor)},c.ceil=function(e){return d(e,Math.ceil)},c.round=function(e){return d(e,Math.round)},c.add=function(e,t){return o(e,t,function(e,t){return e+t})},c.sub=function(e,t){return o(e,t,function(e,t){return e-t})},c.mul=function(e,t){return o(e,t,function(e,t){return e*t})},c.div=function(e,t){return o(e,t,function(e,t){return e/t})},c.min=function(e,t){return o(e,t,function(e,t){return Math.min(e,t)})},c.max=function(e,t){return o(e,t,function(e,t){return Math.max(e,t)})},c.and=function(e,t){return o(e,t,function(e,t){return e&&t})},c.or=function(e,t){return o(e,t,function(e,t){return e||t})},c.funcAttr=function(e,t){return c(e,t,function(n){var o;return null==(o=e())?o:arguments.length?o[t]=n:o[t]})},c.toggle=function(e){return e(!e())},c.if_=function(e,t,n){return"function"!=typeof e?e?t:n:e.invalidate?"function"==typeof t&&"function"==typeof n?t.invalidate&&n.invalidate?c(e,t,n,function(){return e()?t():n()}):function(){return e()?t():n()}:"function"==typeof t?t.invalidate?c(e,t,function(){return e()?t():n}):function(){return e()?t():n}:"function"==typeof n?n.invalidate?c(n,function(){return e()?t:n()}):function(){return e()?t:n()}:c(e,function(){return e()?t:n}):"function"==typeof t&&"function"==typeof n?function(){return e()?t():n()}:"function"===t?function(){return e()?t():n}:"function"===n?function(){return e()?t:n()}:e()?t:n},c.thisBind=function(e){var t;return(t=i(function(){return this[e]})).bindComponent=function(n){return c.bind(n,e).onInvalidate(function(){return t.valid=!0,t.invalidate()}),t},t}},
/*!******************************************!*\
  !*** ./packages/lazy-flow-at/test-at.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(e){var t,o,r;r=n(/*! bdd-test-helper */0),t=r.expect,r.iit,r.idescribe,r.nit,r.ndescribe,r.ddescribe,o=n(/*! ./index */11),describe("lazy-flow-at",function(){return it("should process flow.at",function(){var e,n,r;return n={},r=o.at(n,"x.y"),t(r()).to.equal(void 0),e=!1,r.onInvalidate(function(){return e=!0}),r(1),t(e).to.equal(!0),t(r()).to.equal(1),t(n.x.y).to.equal(1),e=!1,n.x={},t(e).to.equal(!0),t(n.x.y).to.equal(void 0)}),it("should process flow.at without root",function(){var n,r;return window.x=void 0,n=o.at("x.y"),t(n()).to.equal(void 0),n(1),t(n()).to.equal(1),r="undefined"!=typeof window?window:e,t(r.x.y).to.equal(1)})})}).call(this,n(/*! ./../../node_modules/webpack/buildin/global.js */4))},
/*!****************************************!*\
  !*** ./packages/lazy-flow-at/index.js ***!
  \****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";(function(t){var o,r,u,c,i,a,d,l,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(d=n(/*! dc-util */3)).newLine,d.funcString,r=(l=c=n(/*! lazy-flow */2)).bind,u=l.duplex,a=l.react,e.exports=c,o=function(e){return function(n,o){var r,c;if(1===arguments.length&&(o=n,n="undefined"!=typeof window?window:t),"string"==typeof o&&(o=o.split(/\.\s*/)),!o.length)return n;if("object"!==(void 0===n?"undefined":p(n)))throw new Error("expect an object as the root of flow.at");return 0===(r=o.length)?n:(c=a(function(e){var t,u,i;if(arguments.length){for(t=0,i=n;t<r-1;){if(null==(u=i[o[t]]))u=i[o[t]]={};else if("object"!==(void 0===i?"undefined":p(i)))throw new Error("expect an object");i=u,t++}return i[o[t]]=e,c.cacheValue!==e&&(c.cacheValue=e,c.invalidate(),c.valid=!1),e}for(c.valid=!0,t=0,u=n;t<r;){if(!u)return;u=u[o[t]],t++}return c.cacheValue=u}),e===u&&(c.isDuplex=!0),i(n,o,c,e))}},i=function(e,t,n,o){var r,u,c,a;if(!(c=t.length))return n;for(a=e,u=0;u<c;){if(!a)return;r=t[u],o(a,r).onInvalidate(function(){return i(a[r],t.slice(u+1),n),n.invalidate()}),u++}return n},c.at=o(r),c.at2=o(u),c.paths=function(e,t){var n,o,r,u,c,i,a,d,l,p,s,f,x,m,h,v,q,g,b,y;for(d=[],p=0,m=(u=t.split(/\s*\.\s*/)).length;p<m;p++)if("["===(r=u[p])[0]){if(c=r.length,"]"!==r[r.length-1])throw new Error("wrong format of pathPattern for flow.paths, expect string like 'x.y, '[x, y].z', 'x.[y,z]' ...");r=r.slice(1,c-1),d.push(r.split(/\s*\.\s*|\s+/))}else d.push([r]);for(i=d[0],s=0,h=(y=d.slice(1)).length;s<h;s++){for(r=y[s],a=[],f=0,v=i.length;f<v;f++)for(o=i[f],x=0,q=path.length;x<q;x++)l=path[x],a.push(o.concat([l]));i=a}for(n=[],b=0,g=i.length;b<g;b++)r=i[b],n.push(at(e,r));return n}}).call(this,n(/*! ./../../node_modules/webpack/buildin/global.js */4))},
/*!******************************************!*\
  !*** ./test/coffee/test-property.coffee ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var o,r,u,c,i,a,d,l,p,s,f,x,m=n(/*! bdd-test-helper */0),h=dc;h.util,u=h.bind,d=h.duplex,s=h.see,i=h.classFn,f=h.styleFrom,r=h.attrToPropName,l=h.extendAttrs,h.Component,h.list,h.func,h.if_,o=h.a,p=h.p,h.span,x=h.text,h.li,a=h.div,c=h.checkbox,h.model,h.show,h.hide,h.splitter,h.options,describe("domcom/properties/utilities",function(){return it("styleFrom",function(){var e;return e=f("display:none; zIndex:100; backgroundColor:white;"),(0,m.expect)(e).to.deep.equal({display:"none",zIndex:"100",backgroundColor:"white"})}),it("attrToPropName",function(){var e;return e=r("background-color"),(0,m.expect)(e).to.equal("backgroundColor")}),(0,m.iit)("cssAdd 1",function(){var e,t;return t=(e=p({style:{width:"1px"}})).cssAdd("width",2),(0,m.expect)(t).to.equal(e),(0,m.expect)(e.css("width")).to.equal("3px")}),it("cssAdd 2",function(){var e,t;return t=(e=p({style:{width:"0.5%"}})).cssAdd("width",3.6),(0,m.expect)(t).to.equal(e),(0,m.expect)(e.css("width")).to.equal("4.1%")}),it("cssMul",function(){var e,t;return t=(e=p({style:{width:"2px"}})).cssMul("width",3),(0,m.expect)(t).to.equal(e),(0,m.expect)(e.css("width")).to.equal("6px")})}),describe("domcom/properties/extendAttrs",function(){return it("extendAttrs({class{a:1}}, className({b:1})",function(){var e;return e=l({class:{a:1}},{className:{b:1}}),(0,m.expect)(i(e.className).call()).to.equal("a b")}),it("extendAttrs({style:{width:1}}, {style:{height:2}})",function(){var e;return e=l({style:{width:1}},{style:{height:2}}),(0,m.expect)(e.style.width).to.equal(1),(0,m.expect)(e.style.height).to.equal(2)})}),describe("domcom/properties/classFn",function(){return it("get value of classFn",function(){var e,t;return e=s(!0),t=i(["a",{b:e}]),(0,m.expect)(t()).to.equal("a b"),e(!1),(0,m.expect)(t()).to.equal("a")}),it("should compute valid",function(){var e;return e=i(["a"]),(0,m.expect)(e.valid).to.equal(!1),(0,m.expect)(e()).to.equal("a"),(0,m.expect)(e.valid).to.equal(!0),e.Object.assign("a"),(0,m.expect)(e.valid).to.equal(!0),(0,m.expect)(e()).to.equal("a"),e.Object.assign("b"),(0,m.expect)(e.valid).to.equal(!1),(0,m.expect)(e()).to.equal("a b"),e.Object.assign("!b"),(0,m.expect)(e.valid).to.equal(!1),(0,m.expect)(e()).to.equal("a")}),it("should get class property in component",function(){var e,t;return e=s(!0),t=a({class:{a:1,b:e}}),(0,m.expect)(t.className.call(t)).to.equal("a b","first"),t.className=i({a:1,b:e}),(0,m.expect)(t.className.valid).to.equal(!1,"className.valid 1"),(0,m.expect)(t.hasActiveProperties).to.equal(!0,"hasActiveProperties 1"),t.mount(),(0,m.expect)(t.className.valid).to.equal(!0,"className.valid 2"),(0,m.expect)(t.hasActiveProperties).to.equal(!1,"hasActiveProperties 2"),(0,m.expect)(t.node.className).to.equal("a b","second"),e(!1),(0,m.expect)(t.className.valid).to.equal(!1,"className.valid 3"),(0,m.expect)(t.hasActiveProperties).to.equal(!0,"hasActiveProperties 3"),t.render(),(0,m.expect)(t.node.className).to.equal("a","3")}),it("should get functional class property in component",function(){var e,t;return e=s(!0),t=a({class:function(){return{a:1,b:e}}}),(0,m.expect)(t.className.call(t)).to.equal("a b","first")}),it("should get false class property in component",function(){var e;return s(!0),e=a({class:function(){return{a:!1}}}),(0,m.expect)(e.className.call(e)).to.equal("","first")})}),describe("domcom/properties/create",function(){return it("should create properties",function(){var e;return e=p({value:u({a:1},"a")}),(0,m.expect)(e.className.valid).to.equal(!0,"className.valid"),(0,m.expect)(e.hasActiveProperties).to.equal(!0,"hasActiveProperties"),e.mount(),(0,m.expect)(e.node.value).to.equal(1)})}),describe("domcom/properties/event",function(){return it("click event ",function(){var e,t;return t=1,(e=o({onclick:function(){return t=2}},"click me")).mount("#demo"),e.node.onclick({type:"click"}),(0,m.expect)(t).to.equal(2)}),it("multiple handlers for one event",function(){var e,t,n,o;return e=d(o={a:1},"a"),n=sinon.spy(),(t=x({onchange:n,$model:e})).mount(),t.node.value=2,t.node.onchange({type:"change"}),(0,m.expect)(n.called).to.equal(!0),(0,m.expect)(o.a).to.equal("2")}),it("multiple handlers with bind value",function(){var e,t,n,o;return e=d(o={a:1},"a"),n=sinon.spy(),(t=x({onchange:n},e)).mount(),t.node.value=2,t.node.onchange({type:"change"}),(0,m.expect)(n.called).to.equal(!0),(0,m.expect)(o.a).to.equal("2")})}),describe("domcom/properties/style",function(){return it("should set style property with string value",function(){var e;return e=o({style:"border:red 1px solid"},"red 1px solid"),(0,m.expect)(e.className.valid).to.equal(!0,"className.valid"),(0,m.expect)(e.hasActiveProperties).to.equal(!0,"hasActiveProperties"),e.mount("#demo"),(0,m.expect)(e.node.style.border).to.equal("1px solid red")}),it("should set style property",function(){var e;return(e=o({style:{border:"red 1px solid"}},"red 1px solid")).mount("#demo"),(0,m.expect)(e.node.style.border).to.equal("1px solid red")}),it("value of property of style could be dc expression",function(){var e;return(e=o({style:{border:function(){return"red 1px solid"}}},"red 1px solid")).mount("#demo"),(0,m.expect)(e.node.style.border).to.equal("1px solid red")}),(0,m.nit)("change style dynamically",function(){var e,t,n,r,u,c;return c=function(e){if(!e.match(/^\d/))return e;for(;e.length<6;)e="0"+e;return"#"+e},e=s("red"),u=s(r=0),(t=o({style:{borderWidth:flow(u,function(){return u()+"px"}),borderStyle:"solid",borderColor:flow(e,function(){return c(e().toString(16))})}},"dynamic property")).mount("#demo"),e=0,n=setInterval(function(){if(e+=1118481,u(r++),t.render(),50===r)return clearInterval(n)},5)})}),describe("domcom/properties/bind checkbox",function(){return it("bidirectional bind checkbox",function(){var e,t,n;return dc.directive({$model:dc.$model}),e=d(n={a:1},"a"),(t=c({$model:e})).mount("#demo"),(0,m.expect)(t.node.onchange).to.be.defined,t.node.checked=!0,t.node.onchange({type:"change"}),(0,m.expect)(n.a).to.equal(!0)})})},
/*!******************************************!*\
  !*** ./test/coffee/test-toString.coffee ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var o,r,u,c,i,a,d,l,p=n(/*! bdd-test-helper */0),s=dc;c=s.flow,o=s.bindings,s.Component,s.TranBlock,s.Tag,s.Text,s.txt,a=s.list,s.func,i=s.if_,r=s.case_,s.func,s.each,s.accordionGroup,s.accordion,s.a,d=s.p,s.span,l=s.text,u=s.div,describe("toString",function(){return it("should toString list of if(tag)",function(){var e,t;return e=a(l({onchange:function(){return t=parseInt(this.node.value),e.render()}},t=0),i(function(){return t},u(1),u(2))),(0,p.expect)(e.toString()).to.match(/<List>\n  <input type="text" value=0>/)}),it("should toString  tag with props",function(){var e;return 0,e=u({value:1},1),(0,p.expect)(e.toString()).to.equal("<div value=1>1</div>")}),(0,p.nit)("should case.toString",function(){var e;return e=r(function(){return x},{1:d(1),2:d(2),3:d(3)},"others"),(0,p.expect)(e.toString()).to.equal('<Case renew: fn:x>\n  1: <p>1</p>\n  2: <p>2</p>\n  3: <p>3</p>\n  "others"\n</Case>')}),(0,p.nit)("should flow.add(a_, b_).toString",function(){var e,t,n,r=o({a:1,b:2});return e=r.a_,t=r.b_,n=c.add(e,t),(0,p.expect)(n.toString()).to.equal("flow: [m[a],m[b]] --\x3e fn:binaryFn(x(), y())")})})},
/*!************************************!*\
  !*** ./test/coffee/test-dc.coffee ***!
  \************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var o,r=n(/*! bdd-test-helper */0),u=dc;o=u.isComponent,describe("test dc",function(){return describe("dc(document)",function(){return it("dc(document) should be Component",function(){return(0,r.expect)(!o(dc(document))).to.equal(!0)}),(0,r.nit)("should cache DomComponent",function(){return(0,r.expect)(dc(document)).to.equal(dc(document))}),it("dc(document).bind should be a function",function(){return 0,dc(document).bind("onclick",function(){return 1})}),it("dc() chaining call",function(){return dc.div(at("x y")).data({x:x,y:y})})})})},
/*!*******************************************!*\
  !*** ./test/coffee/test-component.coffee ***!
  \*******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var o,r,u,c,i,a,d,l,p,s,f,x,m,h=n(/*! bdd-test-helper */0),v=n(/*! ./helper */1),q=dc;u=q.bindings,q.duplex,d=q.flow,i=q.classFn,f=q.styleFrom,o=q.Tag,r=q.Text,q.List,q.Component,l=q.list,q.func,q.if_,m=q.txt,q.a,p=q.p,s=q.span,x=q.text,q.li,a=q.div,c=q.button,q.input,describe("test-component",function(){return afterEach(function(){return dc.reset()}),describe("construct component",function(){return it("component shoud have children",function(){var e;return e=p({},[1,2]),(0,h.expect)(e.children.length).to.equal(2)}),it("should construct component",function(){var e,t;return t=new o("p",{},[]),e=new o("div",{},[t]),(0,h.expect)(e.children[0]).to.equal(t)}),it("tag shoud have children 1",function(){var e;return e=new o("span",{},[new r("adf")]),(0,h.expect)(e.children[0].text).to.equal("adf")}),it("tag shoud have children 2",function(){var e,t;return t=new o("span",{},[new r("adf")]),e=new o("div",{className:i("some class"),style:f("width:1px;")},[t]),(0,h.expect)(e.children[0]).to.equal(t)})}),describe("component.create",function(){return it("should create tag",function(){var e;return(e=p()).mount(),(0,h.expect)(e.node.tagName).to.equal("P"),(0,h.expect)(e.node.innerHTML).to.equal("")}),it("should mount tag 1",function(){var e;return(e=new o("div",{},[])).mount(),(0,h.expect)(e.node.tagName).to.equal("DIV")}),it("should correctly create TextNode with 0 as content",function(){var e;return(e=m(0)).mount(),(0,h.expect)(e.node.textContent).to.equal("0")}),it("should correctly create tag with 0 as content",function(){var e;return(e=p(0)).mount(),(0,h.expect)(e.node.innerHTML).to.equal("0")}),it("should mount Text with flow value",function(){var e,t,n,o=u({a:1,b:2});return e=o.a_,t=o.b_,(n=m(d.add(e,t))).mount("#demo"),(0,h.expect)(n.node.textContent).to.equal("3","mount")}),it("should not run event hanlder while creating tag",function(){var e,t;return t=sinon.spy(),(e=p({onclick:t})).mount(),(0,h.expect)(t.called).to.equal(!1),e.node.onclick({type:"click"}),(0,h.expect)(t.called).to.equal(!0)}),it("should process event name without on",function(){var e,t;return t=sinon.spy(),(e=p({onclick:t})).mount(),(0,h.expect)(t.called).to.equal(!1),e.node.onclick({type:"click"}),(0,h.expect)(t.called).to.equal(!0)}),it("should not run event hanlder while rendering tag",function(){var e,t;return t=sinon.spy(),(e=p({onclick:t})).mount(),(0,h.expect)(t.called).to.equal(!1),e.node.onclick({type:"click"}),(0,h.expect)(t.called).to.equal(!0)}),it("should not run event hanlder while rendering button tag",function(){var e,t;return t=sinon.spy(),(e=c({id:"search-ok",type:"submit",onclick:t})).mount(),(0,h.expect)(t.called).to.equal(!1),e.node.onclick({type:"click"}),(0,h.expect)(t.called).to.equal(!0)}),it("should not run event hanlder while rendering div > button tag",function(){var e,t;return t=sinon.spy(),(e=a(c({id:"search-ok",type:"submit",onclick:t}))).mount(),(0,h.expect)(t.called).to.equal(!1),e.children[0].node.onclick({type:"click"}),(0,h.expect)(t.called).to.equal(!0)}),it("should create tag with attribute",function(){var e,t;return(e=p({className:"some class",style:"width:1px;"},[])).mount(),t=e.node,(0,h.expect)(t.className).to.equal("some class"),(0,h.expect)(t.getAttribute("className")).to.equal(null)}),it("should process function value of text",function(){var e,t,n;return e=u({a:1}).a_,(t=x(e)).mount(),n=t.node,(0,h.expect)(n.value).to.equal("1")}),it("component shoud have children 2",function(){var e;return e=s("adf"),(0,h.expect)(e.children[0].text).to.equal("adf")}),it("should create tag with children",function(){var e,t;return e=p({className:"some class",style:"width:1px;"},t=s(["adf"])),(0,h.expect)(e.children[0]).to.equal(t),e.mount(),(0,h.expect)(e.node.getElementsByTagName("span").length).to.equal(1)}),it("should mount tag 2",function(){var e;return(e=p({className:"some class",style:"width:1px;"},[s(["adf"])])).mount("#demo"),(0,h.expect)(e.parentNode.id).to.equal("demo"),(0,h.expect)(e.node.parentNode.id).to.equal("demo")}),it("should mount tag with undefined as child",function(){var e;return(e=p({className:"some class",style:"width:1px;"},s(["adf"]),m(function(){}))).mount("#demo"),(0,h.expect)(e.parentNode.id).to.equal("demo"),(0,h.expect)(e.node.parentNode.id).to.equal("demo")}),it("should mount list with undefined as child",function(){var e;return(e=l(s(["adf"]),m(function(){}))).mount("#demo"),(0,h.expect)(e.parentNode.id).to.equal("demo"),(0,h.expect)(e.node[0].parentNode.id).to.equal("demo")})}),describe("component update",function(){return it("should render tag 1",function(){var e,t;return t=1,(e=new o("p",{},[new r(function(){return t})])).mount(),(0,h.expect)(e.node.innerHTML).to.equal("1"),++t,e.render(),(0,h.expect)(e.node.innerHTML).to.equal("2","update 2"),++t,e.render(),(0,h.expect)(e.node.innerHTML).to.equal("3","update 3"),e.tagName="div",e.render(),(0,h.expect)(e.node.innerHTML).to.equal("3","update 4")}),it("should update bidirectional bind",function(){var e,t;return e=u({a:1}).a$,(t=new o("input",{value:e},[])).mount(),(0,h.expect)(t.node.value).to.equal("1")}),it("should render tag 2",function(){var e,t;return t=1,(e=p(m(function(){return t}))).mount(),(0,h.expect)(e.node.innerHTML).to.equal("1"),++t,e.render(),(0,h.expect)(e.node.innerHTML).to.equal("2"),++t,e.render(),(0,h.expect)(e.node.innerHTML).to.equal("3")}),it("should process text with bind",function(){var e,t,n,o=u({a:1,b:2});return e=o.a_,t=o.b_,(n=p(m(d.add(e,t)))).mount("#demo"),(0,h.expect)(n.node.innerHTML).to.equal("3","mount"),e(3),t(4),(0,h.expect)(e()).to.equal(3,"a_"),(0,h.expect)(t()).to.equal(4,"b_"),n.render(),(0,h.expect)(n.node.innerHTML).to.equal("7","update")}),it("should process bidirectional bind",function(){var e,t;return e=u({a:1}).a$,(t=x(e)).mount("#demo"),(0,h.expect)(t.node.value).to.equal("1"),t.node.value="2",t.node.onchange({type:"change"}),(0,h.expect)(e()).to.equal("2")}),it("should render div(2) component",function(){var e;return(e=a(2)).mount(),(0,h.expect)(e.node.innerHTML).to.equal("2")}),it("should execute component.unmount",function(){var e;return(e=a(2)).mount(),e.unmount()}),it("should execute component.remove",function(){var e;return(e=a(1)).mount((0,v.newDemoNode)("replace-demo3")),e.unmount(),(0,h.expect)(document.getElementById("replace-demo3").innerHTML).to.equal("")}),it("should execute remove child component",function(){var e;return a(e=a(3)).mount((0,v.newDemoNode)("replace-demo4")),e.unmount(),(0,h.expect)(document.getElementById("replace-demo4").innerHTML).to.equal("<div></div>")}),it("should execute component.replace",function(){var e;return(e=a(1)).mount((0,v.newDemoNode)("replace-demo")),a(2).replace(e),dc.render(!0),(0,h.expect)(document.getElementById("replace-demo").innerHTML).to.equal("<div>2</div>")}),it("should execute replace child component",function(){var e;return a(e=a(3)).mount((0,v.newDemoNode)("replace-demo2")),(0,h.expect)(document.getElementById("replace-demo2").innerHTML).to.equal("<div><div>3</div></div>"),a(2).replace(e),dc.render(!0),(0,h.expect)(document.getElementById("replace-demo2").innerHTML).to.equal("<div><div>2</div></div>")}),it("p(->12) ",function(){var e;return(e=p(function(){return 12})).mount(),(0,h.expect)(e.node.innerHTML).to.equal("12"),e.render(),(0,h.expect)(e.node.innerHTML).to.equal("12"),e.render(),(0,h.expect)(e.node.innerHTML).to.equal("12")})})})},
/*!*******************************************!*\
  !*** ./test/coffee/test-singleton.coffee ***!
  \*******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var o,r,u,c,i,a,d,l,p,s,f,x,m,h,v,q,g=n(/*! bdd-test-helper */0),b=n(/*! ./helper */1),y=dc;h=y.see,a=y.flow,y.Component,y.TranBlock,o=y.Tag,r=y.Text,q=y.txt,f=y.list,p=y.func,s=y.if_,l=y.forceIf,y.If,c=y.case_,d=y.forceCase,p=y.func,m=y.pick,u=y.a,x=y.p,y.span,v=y.text,i=y.div,describe("test-singleton: If, Case, Func, Pick, ...",function(){return afterEach(function(){return dc.reset()}),describe("If",function(){return it("should optimize if_",function(){var e;return e=q(1),0,(0,g.expect)(s(function(){return 0},e,e)).to.equal(e),(0,g.expect)(s(0,1,e)).to.equal(e),(0,g.expect)(s(1,e,0)).to.equal(e)}),it("should NOT optimize forceIf",function(){var e,t;return t=q(1),e=l(0,1,t),(0,g.expect)(e).to.not.equal(t),(0,g.expect)(e.else_).to.equal(t)}),it("should compute if_((-> x), p(t), t).family",function(){var e;return e=q(1),0,(0,g.expect)(s(function(){return 0},x(e),e).family[e.dcid]).to.equal(!0)}),it("should construct if_(x, p(t1), list(p(t2), t1))",function(){var e,t,n;return n=h(0),e=q(1),t=q(2),s(n,x(e),f(t,x(e)))}),it("should render if_(see something, txt(1), txt(2))",function(){var e,t;return t=h(0),(e=s(t,q(1),q(2))).mount(),(0,g.expect)(e.node.textContent).to.equal("2","mount"),e.render(),(0,g.expect)(e.node.textContent).to.equal("2","update"),t(1),e.render(),(0,g.expect)(e.node.textContent).to.equal("1","update x 1"),t(0),e.render(),(0,g.expect)(e.node.textContent).to.equal("2","update x 0")}),it("should render forceIf(0, txt(1), txt(2))",function(){var e;return(e=l(0,q(1),q(2))).mount(),(0,g.expect)(e.node.textContent).to.equal("2","mount"),e.render(),(0,g.expect)(e.node.textContent).to.equal("2","update"),e.test=1,e.render(),(0,g.expect)(e.node.textContent).to.equal("1","update x 1"),e.test=0,e.render(),(0,g.expect)(e.node.textContent).to.equal("2","update x 0")}),it("should render if_(x, list(t1, t2), list(t2, t1))",function(){var e,t,n,o,r;return r=h(0),n=q(1),o=q(2),e=s(r,f(n,o),f(o,n)),t=(0,b.newDemoNode)("if-ref"),e.mount(t),(0,g.expect)(e.node[0].textContent).to.equal("2","mount"),(0,g.expect)(t.innerHTML).to.equal("21","mount"),r(1),e.render(),(0,g.expect)(e.node[0].textContent).to.equal("1","update x 1"),(0,g.expect)(t.innerHTML).to.equal("12","mount")}),it("should render if_(x, list(t2, t1), t1)",function(){var e,t,n,o,r;return r=h(1),n=q(1),o=q(2),(e=s(r,f(o,n),n)).mount(t=(0,b.newDemoNode)("if-ref")),(0,g.expect)(t.innerHTML).to.equal("21","mount"),r(0),e.render(),dc.clean(),(0,g.expect)(t.innerHTML).to.equal("1","update")}),it("should render if_(x, t1, list(t2, t1))",function(){var e,t,n,o,r;return r=h(0),n=q(1),o=q(2),(e=s(r,n,f(o,n))).mount(t=(0,b.newDemoNode)("if-ref")),(0,g.expect)(t.innerHTML).to.equal("21","mount"),e.render(),dc.clean(),(0,g.expect)(t.innerHTML).to.equal("21","update"),r(1),e.render(),dc.clean(),(0,g.expect)(t.innerHTML).to.equal("1","update x 1"),r(0),e.render(),dc.clean(),(0,g.expect)(t.innerHTML).to.equal("21","update x 0")}),it("should render if_(x, p(t1), list(p(t2), t1))",function(){var e,t,n,o,r;return r=h(0),n=q(1),o=q(2),(e=s(r,x(n),f(x(o),n))).mount(t=(0,b.newDemoNode)("if-ref")),(0,g.expect)(t.innerHTML).to.equal("<p>2</p>1","mount"),r(1),e.render(),dc.clean(),(0,g.expect)(t.innerHTML).to.equal("<p>1</p>","update x 1"),r(0),e.render(),dc.clean(),(0,g.expect)(t.innerHTML).to.equal("<p>2</p>1","update x 0"),r(1),e.render(),dc.clean(),(0,g.expect)(t.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render if_(x, p(t1), div(t2))",function(){var e,t,n,o;return o=h(0),n=q(1),(e=s(o,x(n),i(n))).mount(t=(0,b.newDemoNode)("if-ref")),(0,g.expect)(t.innerHTML).to.equal("<div>1</div>","mount"),o(1),e.render(),dc.clean(),(0,g.expect)(t.innerHTML).to.equal("<p>1</p>","update x 1"),o(0),e.render(),dc.clean(),(0,g.expect)(t.innerHTML).to.equal("<div>1</div>","update x 0"),o(1),e.render(),dc.clean(),(0,g.expect)(t.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render p(if_(x, p(t1), list(p(t2), t1)))",function(){var e,t,n,o;return o=h(0),t=q(1),n=q(2),(e=x(s(o,x(t),f(x(n),t)))).mount(),(0,g.expect)(e.node.innerHTML).to.equal("<p>2</p>1","mount"),e.render(),dc.clean(),(0,g.expect)(e.node.innerHTML).to.equal("<p>2</p>1","update"),o(1),e.render(),dc.clean(),(0,g.expect)(e.node.innerHTML).to.equal("<p>1</p>","update x 1"),o(0),e.render(),dc.clean(),(0,g.expect)(e.node.innerHTML).to.equal("<p>2</p>1","update x 0"),o(1),e.render(),dc.clean(),(0,g.expect)(e.node.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render if_(x, p(t1), p list(p(t2), t1))",function(){var e,t,n,o,r;return r=h(0),n=q(1),o=q(2),(e=s(r,x(n),t=x(f(x(o),n)))).mount(),(0,g.expect)(t.node.innerHTML).to.equal("<p>2</p>1","mount"),r(1),e.render(),dc.clean(),(0,g.expect)(e.node.innerHTML).to.equal("1","update x 1"),r(0),e.render(),dc.clean(),(0,g.expect)(t.node.innerHTML).to.equal("<p>2</p>1","update x 2")}),it("should render if_(x, div(1), div(2))",function(){var e,t;return t=h(0),(e=s(t,i(1),i(2))).mount(),(0,g.expect)(e.node.tagName).to.equal("DIV","tagName"),(0,g.expect)(e.node.innerHTML).to.equal("2","mount"),t(1),e.render(),dc.clean(),(0,g.expect)(e.node.innerHTML).to.equal("1","first update"),t(0),e.render(),dc.clean(),(0,g.expect)(e.node.innerHTML).to.equal("2","second update")}),it("should create and update if_ with attrs",function(){var e,t,n;return n=h(0),t=s({class:"main",fakeProp:n},n,e=x(1),x(2)),(0,g.expect)(t).to.be.instanceof(o),(0,g.expect)(t.hasActiveProperties).to.equal(!0,"hasActiveProperties before mounting"),t.mount(),(0,g.expect)(t.node.tagName).to.equal("DIV"),(0,g.expect)(t.node.fakeProp).to.equal(0,"mount fakeProp"),(0,g.expect)(t.node.childNodes[0].innerHTML).to.equal("2","mount innerHTML"),(0,g.expect)(t.node.childNodes[0].tagName).to.equal("P","mount C1 tagName"),(0,g.expect)(t.hasActiveProperties).to.equal(!1,"hasActiveProperties after mounting"),n(1),(0,g.expect)(t.props.fakeProp).to.equal(n,"see invalidate fakeProp"),(0,g.expect)(t.hasActiveProperties).to.equal(!0,"hasActiveProperties"),t.render(),dc.clean(),(0,g.expect)(t.node.fakeProp).to.equal(1,"update fakeProp"),(0,g.expect)(t.node.childNodes[0].innerHTML).to.equal("1","update innerHTML"),(0,g.expect)(t.node.childNodes[0]).to.equal(e.node)}),it("should create and render if followed by other node ",function(){var e,t,n,o;return(t=document.getElementById("demo2")).innerHTML="",o=h(0),(e=f(n=s(o,x(1),x(2)),x(3))).mount(t),(0,g.expect)(n.node.innerHTML).to.equal("2"),(0,g.expect)(t.innerHTML).to.equal("<p>2</p><p>3</p>","mount"),o(1),e.render(),dc.clean(),(0,g.expect)(n.node.innerHTML).to.equal("1","pif update"),(0,g.expect)(t.innerHTML).to.equal("<p>1</p><p>3</p>","demo2Node update"),(0,g.expect)(e.node[0].innerHTML).to.equal("1","comp update")}),it("should create and render embedded if",function(){var e,t,n,o,r,u;return(r=document.getElementById("demo2")).innerHTML="",u=h(0),(o=f(q(u),e=s(u,t=x(1),n=x(2)))).mount(r),(0,g.expect)(r.innerHTML).to.equal("0<p>2</p>"),(0,g.expect)(o.parentNode).to.equal(r),(0,g.expect)(o.node[1].innerHTML).to.equal("2"),(0,g.expect)(e.parentNode).to.equal(o.parentNode),u(1),o.render(),dc.clean(),(0,g.expect)(e.parentNode).to.equal(o.parentNode),(0,g.expect)(e.node.innerHTML).to.equal("1"),(0,g.expect)(n.node.innerHTML).to.equal("2"),(0,g.expect)(e.node).to.equal(t.node),(0,g.expect)(o.node[1]).to.equal(t.node)}),it("should process embedded if 2-1",function(){var e,t,n;return n=h(0),(e=f(v(1),t=s(n,i(1),i(2)))).mount(),(0,g.expect)(t.node.innerHTML).to.equal("2"),n(1),e.render(),dc.clean(),(0,g.expect)(t.node.innerHTML).to.equal("1"),n(0),e.render(),dc.clean(),(0,g.expect)(t.node.innerHTML).to.equal("2")}),it("should process embedded if 2-2",function(){var e,t,n;return n=h(0),t=s(n,i(1),i(2)),(e=f(v(n),t)).mount(),(0,g.expect)(t.node.innerHTML).to.equal("2"),n(1),e.render(),dc.clean(),(0,g.expect)(t.node.innerHTML).to.equal("1"),n(0),e.render(),dc.clean(),(0,g.expect)(t.node.innerHTML).to.equal("2")}),it("should process embedded if 2-3",function(){var e,t,n;return n=h(0),(e=f(window.t1=q(n),t=s(n,q(1),q(2)))).mount(),(0,g.expect)(t.node.textContent).to.equal("2"),n(1),e.render(),dc.clean(),(0,g.expect)(t.node.textContent).to.equal("1"),n(0),e.render(),dc.clean(),(0,g.expect)(t.node.textContent).to.equal("2")}),it("should process event in embedded if 2-4",function(){var e,t,n,o;return o=h(0),t=s(o,i(1),i(2)),(e=f(n=v({onchange:function(){return o(parseInt(this.node.value)),e.render(),dc.clean()}},o),t)).mount(),(0,g.expect)(t.node.innerHTML).to.equal("2"),n.node.value=1,n.node.onchange({type:"change"}),(0,g.expect)(t.node.innerHTML).to.equal("1"),n.node.value=0,n.node.onchange({type:"change"}),(0,g.expect)(t.node.innerHTML).to.equal("2")}),it("should process event in embedded if 2-5",function(){var e,t,n,o;return o=h(0),(e=f(n=v({onchange:function(){return o(parseInt(this.node.value)),e.render(),dc.clean()}},1),t=s(o,i(1),i(2)))).mount(),(0,g.expect)(t.node.innerHTML).to.equal("2"),n.node.value=1,n.node.onchange({type:"change"}),(0,g.expect)(t.node.innerHTML).to.equal("1"),n.node.value=0,n.node.onchange({type:"change"}),(0,g.expect)(t.node.innerHTML).to.equal("2")}),it("should process event in embedded if 2-6",function(){var e,t,n,o;return o=h(0),(e=f(n=v({onchange:function(){return o(parseInt(this.node.value)),e.render(),dc.clean()}},o),t=s(o,i(1),i(2)))).mount(),(0,g.expect)(t.node.innerHTML).to.equal("2"),n.node.value=1,n.node.onchange({type:"change"}),(0,g.expect)(t.node.innerHTML).to.equal("1"),n.node.value=0,n.node.onchange({type:"change"}),(0,g.expect)(t.node.innerHTML).to.equal("2")}),it("should process two list with same children",function(){var e,t,n,o,r,u,c;return c=h(1),n=q(1),o=q(2),r=q(3),u=q(4),(e=s(c,f(n,o,r,u),f(u,n,o,r))).mount(t=(0,b.newDemoNode)("list")),(0,g.expect)(t.innerHTML).to.equal("1234"),c(0),e.render(),dc.clean(),(0,g.expect)(t.innerHTML).to.equal("4123"),c(1),e.render(),dc.clean(),(0,g.expect)(t.innerHTML).to.equal("1234")})}),describe("Case",function(){return it("should create and render case_",function(){var e,t;return t=h(0),(e=c(t,{1:x("a"),2:x("b"),3:x("c")},"others")).mount(),(0,g.expect)(e.node).to.be.instanceof(window.Text),(0,g.expect)(e.node.textContent).to.equal("others"),t(1),e.render(),dc.clean(),(0,g.expect)(e.node.innerHTML).to.equal("a")}),it("should create and render forceCase",function(){var e;return(e=d(0,{1:x("a"),2:x("b"),3:x("c")},"others")).mount(),(0,g.expect)(e.node).to.be.instanceof(window.Text),(0,g.expect)(e.node.textContent).to.equal("others"),e.test=1,e.render(),dc.clean(),(0,g.expect)(e.node.innerHTML).to.equal("a")}),it("should create and render array case_",function(){var e,t;return t=h(3),(e=c(t,[x("a"),x("b"),x("c")],"others")).mount(),(0,g.expect)(e.node).to.be.instanceof(window.Text),(0,g.expect)(e.node.textContent).to.equal("others"),t(1),e.render(),dc.clean(),(0,g.expect)(e.node.innerHTML).to.equal("b")})}),describe("Func",function(){return it("func(->12) ",function(){var e;return(e=p(function(){return 12})).mount(),(0,g.expect)(e.node.textContent).to.equal("12"),e.render(),(0,g.expect)(e.node.textContent).to.equal("12"),e.render(),dc.clean(),(0,g.expect)(e.node.textContent).to.equal("12")}),it("p(-> a))",function(){var e;return u=h(1),(e=x(u)).mount(),u(2),e.render(),(0,g.expect)(e.node.innerHTML).to.equal("2","update a 2"),u(3),e.render(),u(4),e.render(),(0,g.expect)(e.node.innerHTML).to.equal("4","update a 4")}),it("should create func component",function(){var e,t;return t=h(1),(e=p(t)).mount(),(0,g.expect)(e.node).to.be.instanceof(window.Text),(0,g.expect)(e.node.textContent).to.equal("1")}),it("should create and render func",function(){var e,t;return t=h(0),(e=p(a(t,function(){return{1:x(1),2:x(2),3:x(3)}[t()]||"others"}))).mount(),(0,g.expect)(e.node).to.be.instanceof(window.Text),(0,g.expect)(e.node.textContent).to.equal("others"),t(1),e.render(),dc.clean(),(0,g.expect)(e.node.innerHTML).to.equal("1"),t(2),e.render(),dc.clean(),(0,g.expect)(e.node.innerHTML).to.equal("2")}),it("should update func with attrs",function(){var e,t;return t=h(1),(e=p({class:"main",fakeProp:t},t)).mount(),(0,g.expect)(e.node.tagName).to.equal("DIV"),(0,g.expect)(e.node.fakeProp).to.equal(1),(0,g.expect)(e.node).to.be.instanceof(Element),(0,g.expect)(e.node.childNodes[0].textContent).to.equal("1"),t(2),e.render(),dc.clean(),(0,g.expect)(e.node.fakeProp).to.equal(2),(0,g.expect)(e.node.childNodes[0].textContent).to.equal("2")}),it("should process tag with function",function(){var e;return e=x(q(function(){return 1})),(0,g.expect)(e.children[0]).to.be.instanceof(r),e.mount(),(0,g.expect)(e.node.innerHTML).to.equal("1")}),it("should create and update func with a closure variable",function(){var e,t;return t=h(1),(e=p(function(){return q(t)})).mount(),(0,g.expect)(e.node.textContent).to.equal("1"),t(2),e.render(),dc.clean(),(0,g.expect)(e.node.textContent).to.equal("2")})}),describe("Pick",function(){return it("pick(host)",function(){var e,t,n;return e=m(t={content:1}),n=0,e.onSetContent=function(e){return n="called"},e.mount(),(0,g.expect)(e.node.textContent).to.equal("1"),t.content=2,(0,g.expect)(n).to.equal("called"),e.render(),dc.clean(),(0,g.expect)(e.node.textContent).to.equal("2")}),it('pick(host, "content", 1) by setContent',function(){var e,t;return e=m({content:1}),t=0,e.onSetContent=function(e){return t="called"},e.mount(),(0,g.expect)(e.node.textContent).to.equal("1"),e.setContent(2),(0,g.expect)(t).to.equal("called"),e.render(),dc.clean(),(0,g.expect)(e.node.textContent).to.equal("2")}),it('pick(host, "activeContent", 1)',function(){var e,t,n;return e=m(t={},"activeContent",1),n=0,e.onSetContent=function(e){return n="called"},e.mount(),(0,g.expect)(e.node.textContent).to.equal("1"),t.activeContent=2,(0,g.expect)(n).to.equal("called"),e.render(),dc.clean(),(0,g.expect)(e.node.textContent).to.equal("2")}),it('pick(host, "activeContent", 1) by setContent',function(){var e,t;return e=m({},"activeContent",1),t=0,e.onSetContent=function(e){return t="called"},e.mount(),(0,g.expect)(e.node.textContent).to.equal("1"),e.setContent(2),(0,g.expect)(t).to.equal("called"),e.render(),dc.clean(),(0,g.expect)(e.node.textContent).to.equal("2")})})})},
/*!******************************************!*\
  !*** ./test/coffee/test-merge-if.coffee ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var o,r,u,c,i,a,d,l,p,s=n(/*! bdd-test-helper */0),f=n(/*! ./helper */1),x=dc;l=x.see,x.flow,x.Component,x.Tag,x.Text,r=x.List,o=x.If,p=x.txt,i=x.list,x.func,x.if_,a=x.mergeIf,u=x.a,d=x.p,x.span,x.text,c=x.div,describe("domcom/test-merge-if",function(){return afterEach(function(){return dc.reset()}),it("should construct mergeIf(x, t1, t2)",function(){var e,t,n,o;return o=l(0),t=p(1),n=p(2),e=a(o,t,n),(0,s.expect)(e.isText).to.equal(!0),e.mount(),(0,s.expect)(e.node.textContent).to.equal("2"),o(1),e.render(),(0,s.expect)(e.node.textContent).to.equal("1")}),it("should render mergeIf(x, list(t1, t2), list(t2, t1))",function(){var e,t,n,o,r;return r=l(0),n=p(1),o=p(2),e=a(r,i(n,o),i(o,n)),(0,s.expect)(e.isList).to.equal(!0),e.mount(t=(0,f.newDemoNode)("if-ref")),(0,s.expect)(e.node[0].textContent).to.equal("2","mount"),(0,s.expect)(t.innerHTML).to.equal("21","mount"),r(1),e.render(),(0,s.expect)(e.node[0].textContent).to.equal("1","update x 1"),(0,s.expect)(t.innerHTML).to.equal("12","update")}),it("should render if_(x, list(t2, t1), new List([t1]))",function(){var e,t,n,o,u;return u=l(1),n=p(1),o=p(2),e=a(u,i(o,n),new r([n])),(0,s.expect)(e.isList).to.equal(!0),e.mount(t=(0,f.newDemoNode)("if-ref")),(0,s.expect)(t.innerHTML).to.equal("21","mount"),u(0),e.render(),dc.clean(),(0,s.expect)(t.innerHTML).to.equal("1")}),it("should render mergeIf(x, new List([t1]), list(t2, t1))",function(){var e,t,n,o,u;return u=l(1),n=p(1),o=p(2),e=a(u,new r([n]),i(o,n)),(0,s.expect)(e.isList).to.equal(!0),e.mount(t=(0,f.newDemoNode)("if-ref")),(0,s.expect)(t.innerHTML).to.equal("1","mount"),u(0),e.render(),(0,s.expect)(t.innerHTML).to.equal("21")}),it("should render mergeIf(x, p(t1), p(t2))",function(){var e,t,n,o,r;return r=l(0),n=p(1),o=p(2),e=a(r,d(n),d(o)),(0,s.expect)(e.isTag).to.equal(!0),e.mount(t=(0,f.newDemoNode)("if-ref")),(0,s.expect)(t.innerHTML).to.equal("<p>2</p>","mount"),r(1),e.render(),dc.clean(),(0,s.expect)(t.innerHTML).to.equal("<p>1</p>","update x 1")}),it("should also render mergeIf(x, p(t1), p(t2, t1))",function(){var e,t,n,o,r;return r=l(0),n=p(1),o=p(2),e=a(r,d(n),d(o,n)),(0,s.expect)(e.isTag).to.equal(!0),e.mount(t=(0,f.newDemoNode)("if-ref")),(0,s.expect)(t.innerHTML).to.equal("<p>21</p>","mount"),r(1),e.render(),dc.clean(),(0,s.expect)(t.innerHTML).to.equal("<p>1</p>","update x 1"),r(0),e.render(),dc.clean(),(0,s.expect)(t.innerHTML).to.equal("<p>21</p>","update x 0"),r(1),e.render(),dc.clean(),(0,s.expect)(t.innerHTML).to.equal("<p>1</p>","update x 1 again")}),it("should render mergeIf(x, p(t1), div(t2))",function(){var e,t,n;return n=l(0),t=p(1),e=a(n,d(t),c(t)),(0,s.expect)(e instanceof o).to.equal(!0)}),it("should render mergeIf(x, div(1), div(2))",function(){var e,t;return t=l(0),(e=a(t,c(1),c(2))).mount(),(0,s.expect)(e.isTag).to.equal(!0),(0,s.expect)(e.children[0].isText).to.equal(!0),(0,s.expect)(e.node.tagName).to.equal("DIV","tagName"),(0,s.expect)(e.node.innerHTML).to.equal("2","mount"),t(1),e.render(),(0,s.expect)(e.node.innerHTML).to.equal("1","first update")}),it("should render mergeIf(x, div(1), div(p(2)))",function(){var e,t;return t=l(0),(e=a(t,c(1),c(d(2)))).mount(),(0,s.expect)(e.isTag).to.equal(!0),(0,s.expect)(e.children[0]instanceof o).to.equal(!0),(0,s.expect)(e.node.tagName).to.equal("DIV","tagName"),(0,s.expect)(e.node.innerHTML).to.equal("<p>2</p>","mount")}),it("should render mergeIf(x, div({class}, 1), div({class}, 2))",function(){var e,t;return t=l(0),(e=a(t,c({class:"a"},1),c({class:"b"},2))).mount(),(0,s.expect)(e.isTag).to.equal(!0),(0,s.expect)(e.node.className).to.equal("b"),t(1),e.render(),(0,s.expect)(e.node.className).to.equal("a")}),it("should render mergeIf(x, div({a:1}, 1), div({b:2}, 2))",function(){var e,t;return t=l(0),(e=a(t,c({a:1},1),c({b:2},2))).mount(),(0,s.expect)(e.isTag).to.equal(!0),(0,s.expect)(e.node.a).to.equal(""),(0,s.expect)(e.node.b).to.equal(2),t(1),e.render(),(0,s.expect)(e.node.a).to.equal(1),(0,s.expect)(e.node.b).to.equal("","x 1")}),it("should render mergeIf(x, div({onclick}, 1), div({onclick}, 2))",function(){var e,t;return t=l(0),u=0,(e=a(t,c({onclick:function(){return u=1}},1),c({onclick:function(){return u=2}},2))).mount(),e.node.onclick({type:"click"}),(0,s.expect)(u).to.equal(2,"first click"),t(1),e.render(),e.node.onclick({type:"click"}),(0,s.expect)(u).to.equal(1,"second click")}),it("should NOT merge If(0, div({onclick}, 1), div({onclick}, 2), true, false, true)",function(){var e;return u=0,(e=new o(0,c({onclick:function(){return u=1}},1),c({onclick:function(){return u=2}},2),!0,!1,!0)).mount(),e.node.onclick({type:"click"}),(0,s.expect)(u).to.equal(2,"first click"),e.test=1,e.render(),e.node.onclick({type:"click"}),(0,s.expect)(u).to.equal(1,"second click")}),it("should render mergeIf(x, div({style}, 1), div({style}, 2))",function(){var e,t;return t=l(0),(e=a(t,c({style:{width:"100px"}},1),c({style:{width:"200px"}},2))).mount(),(0,s.expect)(e.node.style.width).to.equal("200px"),t(1),e.render(),(0,s.expect)(e.node.style.width).to.equal("100px")})})},
/*!***************************************!*\
  !*** ./test/coffee/test-group.coffee ***!
  \***************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var o,r,u,c,i,a,d,l,p,s,f,x,m,h,v,q,g,b=n(/*! bdd-test-helper */0),y=n(/*! ./helper */1),w=dc;x=w.isComponent,w.Component,w.TranBlock,r=w.Tag,w.Text,g=w.txt,m=w.list,o=w.List,w.func,f=w.if_,w.case_,w.func,l=w.each,p=w.every,s=w.funcEach,w.accordionGroup,w.accordion,w.a,h=w.p,q=w.span,w.text,a=w.div,u=w.bind,w.pour,v=w.see,i=null,c=null,d=!1,describe("test-group: group component: List, each",function(){return beforeEach(function(){return(i=document.getElementById("demo2")).innerHTML=""}),afterEach(function(){if(dc.reset(),c&&c.node&&!d)return c.unmount()}),describe("List",function(){return afterEach(function(){if(dc.reset(),c&&c.node&&!d)return c.unmount()}),it("all of item in list should be  component",function(){return c=m([1,2]),(0,b.expect)(x(c.children[0])).to.equal(!0)}),it("should create list component",function(){return(c=m([q(["adf"])])).mount(),(0,b.expect)(c.node[0].tagName).to.equal("SPAN"),c.unmount()}),it("component list should have length",function(){var e;return e=m([1,2]),(0,b.expect)(e.children.length).to.equal(2)}),it("list can be constructructed  from mulitple argumnents",function(){var e;return e=m(1,2),(0,b.expect)(e.children.length).to.equal(2)}),it("should create list",function(){var e;return(e=m(1,2)).mount(),(0,b.expect)(e.node[0].textContent).to.equal("1"),(0,b.expect)(e.node[1].textContent).to.equal("2"),e.unmount()}),it("should create list with attrs",function(){var e;return e=2,(c=m({class:"main",fakeProp:function(){return e}},1,g(function(){return e}))).mount(),(0,b.expect)(c.node.tagName).to.equal("DIV"),(0,b.expect)(c.node.childNodes[0].textContent).to.equal("1"),(0,b.expect)(c.node.childNodes[1].textContent).to.equal("2"),e=3,c.render(),(0,b.expect)(c.node.fakeProp).to.equal(3),(0,b.expect)(c.node.childNodes[1].textContent).to.equal("3","textContent update"),c.unmount()}),it("list(txt(->12))",function(){return(c=m(g(function(){return 12}))).mount(),(0,b.expect)(c.node.textContent).to.equal("12"),c.unmount()}),it("list setChildren after mounting",function(){return(c=new o([g(1)])).mount(),(0,b.expect)(c.node[0].textContent).to.equal("1"),(0,b.expect)(function(){return c.setChildren(1,[g(2)])}).not.to.throw(),c.unmount()}),it("list setChildren: similar to splitter",function(){var e;return(c=new o([g(1),e=g(3)])).setChildren(1,[g(2),e]),c.mount(),(0,b.expect)(c.node[0].textContent).to.equal("1"),(0,b.expect)(c.node[1].textContent).to.equal("2"),(0,b.expect)(c.node[2].textContent).to.equal("3"),c.unmount()}),it("list(p(txt(->12))) ",function(){return(c=m(h(g(function(){return 12})))).mount(),c.render(),(0,b.expect)(c.node.innerHTML).to.equal("12"),c.unmount()}),it("list(p(->12))",function(){return(c=m(h(function(){return 12}))).mount(),c.render(),(0,b.expect)(c.node.innerHTML).to.equal("12"),c.unmount()}),it("list(txt(1))",function(){var e;return(c=new o([g(1)])).mount(e=(0,y.newDemoNode)("list")),(0,b.expect)(e.innerHTML).to.equal("1",1),c.render(),c.setLength(0),dc.clean(),(0,b.expect)(e.innerHTML).to.equal("",2),c.render(),(0,b.expect)(e.innerHTML).to.equal("",3),c.unmount(),(0,b.expect)(e.innerHTML).to.equal("",4)}),it("list(txt(1), txt(2), txt(3)) and move child",function(){var e,t,n,o;return(c=m(t=g(1),n=g(2),o=g(3))).mount(e=(0,y.newDemoNode)("list")),(0,b.expect)(e.innerHTML).to.equal("123"),c.removeChild(0),c.render(),(0,b.expect)(c.children.indexOf(t)).to.equal(-1,"dcid 0"),(0,b.expect)(c.children.indexOf(n)).to.equal(0,"dcid 1"),(0,b.expect)(c.children.indexOf(o)).to.equal(1,"dcid 2"),(0,b.expect)(c.children.length).to.equal(2),c.pushChild(t),c.render(),(0,b.expect)(e.innerHTML).to.equal("231"),c.unmount()}),it("should not renderDom after removing",function(){var e,t;return(c=m(t=g(1),g(2),g(3))).mount(e=(0,y.newDemoNode)("list")),c.removeChild(0),c.render(),dc.clean(),(0,b.expect)(e.innerHTML).to.equal("23",1),(0,b.expect)(t.node.parentNode).to.equal(null),(0,b.expect)(t.removed).to.equal(!0),t.render(),dc.clean(),(0,b.expect)(t.node.parentNode).to.equal(null),(0,b.expect)(e.innerHTML).to.equal("23",2)})}),describe("Tag",function(){return it("should have correct nextNode",function(){var e,t,n;return(c=a(e=a(g(1),t=g(2),g(3)),a(g(4),n=g(5),g(6)))).mount(),e.insertChildAfter(n,t),c.render()})}),describe("each of array, object",function(){return it("simple each for array",function(){return(c=p([1,2],function(e){return e})).mount((0,y.newDemoNode)("list")),c.render(),(0,b.expect)(c.node.length).to.equal(2),c.unmount()}),it("all key of object 1",function(){var e;return(c=p({a:1,b:2},function(e){return e})).mount(e=(0,y.newDemoNode)("list")),c.render(),(0,b.expect)(c.children.length).to.equal(2),(0,b.expect)(e.innerHTML).to.equal("12")}),it("all key of object 2",function(){var e;return e=(0,y.newDemoNode)("list"),(c=p({},{a:1,b:2},function(e,t){return m(t,":",e)})).mount(e),(0,b.expect)(c.children.length).to.equal(2),(0,b.expect)(c.node.innerHTML).to.equal("a:1b:2"),c.render(),(0,b.expect)(c.node.innerHTML).to.equal("a:1b:2")}),it("all key of object 3",function(){return(c=p({},{a:1,b:2},{itemFunc:function(e,t){return m(t,":",e)},separatorFunc:function(){return", "}})).mount((0,y.newDemoNode)("list")),c.render(),(0,b.expect)(c.children.length).to.equal(2),(0,b.expect)(c.node.innerHTML).to.equal("a:1, b:2")})}),describe("each",function(){return it("should create empty each component",function(){return(i=document.getElementById("demo2")).innerHTML="",(c=l([],function(e,t){return h(e)})).mount(i),(0,b.expect)(c.node).to.be.instanceof(Array),(0,b.expect)(c.node.length).to.equal(0),c.render(),(0,b.expect)(c.node.length).to.equal(0),c.unmount()}),it("should create each component with single item",function(){return(c=l([1],function(e,t){return h(e)})).mount(),(0,b.expect)(c.node).to.be.instanceof(Array),(0,b.expect)(c.node.length).to.equal(1),(0,b.expect)(c.node[0].innerHTML).to.equal("1"),c.render(),(0,b.expect)(c.node.length).to.equal(1),(0,b.expect)(c.node[0].innerHTML).to.equal("1"),c.unmount()}),it("should set children nextNode correctly",function(){var e,t;return(i=document.getElementById("demo2")).innerHTML="",(c=m(e=l(t=[1,2],function(e){return h(e)}),"some other thing")).mount(i),(0,b.expect)(e.nextNode).to.equal(c.node[1]),(0,b.expect)(i.innerHTML).to.equal("<p>1</p><p>2</p>some other thing"),t.push(3),c.render(),(0,b.expect)(e.children[2].node).to.equal(e.node[2]),(0,b.expect)(i.innerHTML).to.equal("<p>1</p><p>2</p><p>3</p>some other thing"),c.unmount(),(0,b.expect)(i.innerHTML).to.equal("")}),it("should create each component with two item",function(){return(c=l(["each","simple"],function(e,t){return h(e)})).mount(),(0,b.expect)(c.node).to.be.instanceof(Array),(0,b.expect)(c.node[0]).to.be.instanceof(Element),(0,b.expect)(c.node[1].innerHTML).to.equal("simple"),c.unmount()}),it("should mount and render each component",function(){var e,t;return d=!0,document.getElementById("demo").innerHTML="",(c=l(t=["each","simple"],function(e,t){return h(e)})).mount(e=(0,y.newDemoNode)("each")),(0,b.expect)(c.node[0].innerHTML).to.equal("each"),(0,b.expect)(c.node[1].innerHTML).to.equal("simple"),t.setItem(0,3),c.render(),dc.clean(),(0,b.expect)(c.node[0].innerHTML).to.equal("3","update node 0"),t.setItem(1,4),c.render(),dc.clean(),(0,b.expect)(c.node[1].innerHTML).to.equal("4","update node 1"),(0,b.expect)(e.innerHTML).to.equal("<p>3</p><p>4</p>","update innerHTML"),t.setItem(2,5),c.render(),dc.clean(),(0,b.expect)(c.node[2].innerHTML).to.equal("5","update list[2] = 5"),t.setLength(0),c.render(),dc.clean(),(0,b.expect)(c.children.length).to.equal(0,"comp.children.length = 0"),(0,b.expect)(c.node.length).to.equal(0,"node.length"),c.unmount()}),it("should process binding on item",function(){var e;return document.getElementById("demo").innerHTML="",(c=l(e=[{text:"a"},{text:"b"}],function(e,t){return h(g(u(e,"text")))})).mount("#demo"),(0,b.expect)(c.node[0].textContent).to.equal("a"),(0,b.expect)(c.node[1].textContent).to.equal("b"),e[0].text="c",c.render(),(0,b.expect)(c.node[0].textContent).to.equal("c","update c"),e[1].text="d",c.render(),(0,b.expect)(c.node[1].textContent).to.equal("d","update d"),e.setItem(2,{text:"e"}),c.render(),(0,b.expect)(c.node[2].textContent).to.equal("e"),e.setLength(0),c.render(),dc.clean(),(0,b.expect)(c.node.length).to.equal(0),c.unmount()}),it("should process items in template function",function(){var e;return(c=l(e=["a","b"],{itemFunc:function(e,t,n){return h(g(function(){return e}))}})).mount(),e.setItem(0,"c"),c.render(),(0,b.expect)(c.node[0].textContent).to.equal("c"),c.unmount()}),it("should process tag with each",function(){var e,t,n;return d=!0,n=v(1),t=null,(c=new r("div",{},[e=l([1],{itemFunc:function(e){return t=g(n)}})])).mount(),(0,b.expect)(c.node.innerHTML).to.equal("1"),n(2),c.render(),(0,b.expect)(t.node.textContent).to.equal("2","update, 2"),(0,b.expect)(e.node[0].textContent).to.equal("2"),(0,b.expect)(c.node.innerHTML).to.equal("2"),c.unmount()}),it("should create and update deeper embedded each",function(){var e,t,n;return 1,(c=a({},n=new r("span",{},[e=l(t=[1],{itemFunc:function(e){return g(e)}})]))).mount(),(0,b.expect)(e.parentNode).to.equal(n.node),(0,b.expect)(e.node[0].textContent).to.equal("1"),t.setItem(0,2),c.render(),dc.clean(),(0,b.expect)(e.parentNode).to.equal(n.node),(0,b.expect)(e.node[0].textContent).to.equal("2"),(0,b.expect)(c.node.innerHTML).to.equal("<span>2</span>"),c.unmount()}),it("should create and update each where item return a closure variable",function(){var e;return e=v(1),(c=l([1],{itemFunc:function(){return g(e)}})).mount(),(0,b.expect)(c.node[0].textContent).to.equal("1"),e(2),c.render(),(0,b.expect)(c.node[0].textContent).to.equal("2"),c.unmount()}),it("should create and update embedded each where item return a closure variable",function(){var e,t;return t=v(1),(c=new r("span",{},[e=l([1],{itemFunc:function(e){return g(t)}})])).mount(),(0,b.expect)(e.parentNode).to.equal(c.node),(0,b.expect)(e.node[0].textContent).to.equal("1"),t(2),c.render(),(0,b.expect)(e.parentNode).to.equal(c.node),(0,b.expect)(e.node[0].textContent).to.equal("2"),(0,b.expect)(c.node.innerHTML).to.equal("2"),c.unmount()}),it("should create and update embedded each in 3 layer",function(){var e,t,n;return n=v(1),(c=a({},a({},t=new r("span",{},[e=l([1],{itemFunc:function(e){return g(n)}})])))).mount(),(0,b.expect)(e.parentNode).to.equal(t.node),(0,b.expect)(e.node[0].textContent).to.equal("1"),n(2),c.render(),(0,b.expect)(e.parentNode).to.equal(t.node),(0,b.expect)(e.node[0].textContent).to.equal("2"),(0,b.expect)(c.node.innerHTML).to.equal("<div><span>2</span></div>"),c.unmount()}),it("should mount and update each",function(){return(c=new r("span",{},[l([1],function(e){return g(1)})])).mount(),(0,b.expect)(c.node.innerHTML).to.equal("1"),c.render(),(0,b.expect)(c.node.innerHTML).to.equal("1"),c.unmount()}),it("should push and setLength of each",function(){var e;return(c=l(e=[1,2,3,4,5,6],function(e){return g(e)})).mount(),e.push(7),c.render(),(0,b.expect)(c.node.length).to.equal(7,"push 7"),e.setLength(4),c.render(),(0,b.expect)(c.node.length).to.equal(4,"setLength 4"),c.unmount()}),it("should update each with component as the item of list 1",function(){return(c=l([g(1)],function(e){return e})).mount(),(0,b.expect)(c.node[0].textContent).to.equal("1"),c.render(),(0,b.expect)(c.node[0].textContent).to.equal("1"),c.unmount()}),it("should update each with component as the item of list 2",function(){return(c=a(l([g(1)],function(e){return e}))).mount(),(0,b.expect)(c.node.innerHTML).to.equal("1"),c.render(),(0,b.expect)(c.node.innerHTML).to.equal("1"),c.unmount()}),it("should update each with component as the item of list 3",function(){return(c=a(a(l([g(1)],function(e){return e})))).mount(),(0,b.expect)(c.node.innerHTML).to.equal("<div>1</div>"),c.render(),(0,b.expect)(c.node.innerHTML).to.equal("<div>1</div>"),c.unmount()}),it("should always attach and detach in multiple iteration 0",function(){var e;return e=v(!0),(c=f(e,g(1))).mount(i),(0,b.expect)(i.innerHTML).to.equal("1"),(0,b.expect)(c.node.parentNode).to.equal(i),e(!1),c.render(),dc.clean(),(0,b.expect)(c.node.parentNode).to.equal(void 0),(0,b.expect)(i.innerHTML).to.equal(""),e(!0),c.render(),dc.clean(),(0,b.expect)(c.node.parentNode).to.equal(i),(0,b.expect)(i.innerHTML).to.equal("1"),e(!1),c.render(),dc.clean(),(0,b.expect)(i.innerHTML).to.equal(""),(0,b.expect)(c.node.parentNode).to.equal(void 0),c.unmount()}),it("should always attach and detach each in multiple iteration 1",function(){var e;return e=v(!0),(c=f(e,l([1,2],function(e){return g(e)}))).mount(i),(0,b.expect)(i.innerHTML).to.equal("12"),(0,b.expect)(c.node.parentNode).to.equal(i),e(!1),c.render(),dc.clean(),(0,b.expect)(c.node.parentNode).to.equal(void 0),(0,b.expect)(i.innerHTML).to.equal(""),e(!0),c.render(),dc.clean(),(0,b.expect)(c.node.parentNode).to.equal(i),(0,b.expect)(i.innerHTML).to.equal("12"),e(!1),c.render(),dc.clean(),(0,b.expect)(i.innerHTML).to.equal(""),(0,b.expect)(c.node.parentNode).to.equal(void 0),c.unmount()}),it("should always attach and detach each in multiple iteration 2",function(){var e;return e=v(!0),(c=f(e,l([1,2],function(e){return a(e)}))).mount(i),(0,b.expect)(i.innerHTML).to.equal("<div>1</div><div>2</div>"),e(!1),c.render(),(0,b.expect)(c.node.parentNode).to.equal(void 0),e(!0),c.render(),(0,b.expect)(c.node.parentNode).to.equal(i),e(!1),c.render(),(0,b.expect)(c.node.parentNode).to.equal(void 0),c.unmount()})}),describe("funcEach",function(){return it("should process funcEach",function(){var e;return e=1,(c=s(function(){return[e]},{itemFunc:function(e){return e}})).mount(),(0,b.expect)(c.node[0].textContent).to.equal("1"),e=2,c.render(),(0,b.expect)(c.node[0].textContent).to.equal("2","after x = 2"),c.unmount()}),it("should create and update funcEach",function(){var e;return d=!0,e=1,(c=s(function(){return[e]},{itemFunc:function(e){return g(e)}})).mount(i),(0,b.expect)(c.node[0].textContent).to.equal("1"),e=2,c.render(),dc.clean(),(0,b.expect)(c.node[0].textContent).to.equal("2","update 2"),(0,b.expect)(c.isList).to.equal(!0),(0,b.expect)(i.innerHTML).to.equal("2","innerHTML"),e=3,c.render(),dc.clean(),(0,b.expect)(c.node[0].textContent).to.equal("3","update 3"),(0,b.expect)(i.innerHTML).to.equal("3","innerHTML"),c.unmount()}),it("should process each under each and with function as items 1",function(){var e,t,n;return n=1,t=null,(c=a({},e=l([1],function(){return t=s(function(){return[n]},function(e){return e})}))).mount(i),(0,b.expect)(i.innerHTML).to.equal("<div>1</div>"),d=!0,(0,b.expect)(e.parentNode).to.equal(c.node),(0,b.expect)(e.node[0][0].textContent).to.equal("1"),(0,b.expect)(t.node[0].textContent).to.equal("1"),n=2,c.render(),dc.clean(),(0,b.expect)(i.innerHTML).to.equal("<div>2</div>"),(0,b.expect)(e.parentNode).to.equal(c.node),(0,b.expect)(t.node[0].textContent).to.equal("2"),(0,b.expect)(c.node.innerHTML).to.equal("2","after x = 2"),c.unmount()}),it("should process each under each and with function as items 0",function(){var e,t,n;return n=1,t=null,(c=e=l([1],function(){return t=s(function(){return[n]},{itemFunc:function(e){return g(e)}})})).mount(i),(0,b.expect)(i.innerHTML).to.equal("1"),d=!0,(0,b.expect)(e.parentNode).to.equal(e.parentNode),(0,b.expect)(e.parentNode).to.equal(i),(0,b.expect)(e.node[0][0].textContent).to.equal("1"),(0,b.expect)(t.node[0].textContent).to.equal("1"),n=2,c.render(),dc.clean(),(0,b.expect)(i.innerHTML).to.equal("2"),(0,b.expect)(e.parentNode).to.equal(e.parentNode),(0,b.expect)(t.node[0].textContent).to.equal("2"),(0,b.expect)(i.innerHTML).to.equal("2","after x = 2"),c.unmount()}),it("should create and update embedded each in 3 layer 2",function(){var e,t,n;return n=1,(c=a({},a({},t=new r("span",{},[e=s(function(){return[n]},{itemFunc:function(e){return g(e)}})])))).mount(),(0,b.expect)(e.parentNode).to.equal(t.node),(0,b.expect)(e.node[0].textContent).to.equal("1"),n=2,c.render(),dc.clean(),(0,b.expect)(e.parentNode).to.equal(t.node),(0,b.expect)(e.node[0].textContent).to.equal("2"),(0,b.expect)(c.node.innerHTML).to.equal("<div><span>2</span></div>"),c.unmount()}),it("should create and update deeper embedded funcEach",function(){var e,t,n;return n=1,(c=a({},t=new r("span",{},[e=s(function(){return[n]},{itemFunc:function(e){return g(e)}})]))).mount(),(0,b.expect)(e.parentNode).to.equal(t.node),(0,b.expect)(e.node[0].textContent).to.equal("1"),n=2,c.render(),dc.clean(),(0,b.expect)(e.parentNode).to.equal(t.node),(0,b.expect)(e.node[0].textContent).to.equal("2"),(0,b.expect)(c.node.innerHTML).to.equal("<span>2</span>"),c.unmount()}),it("should create and update funcEach in list",function(){var e;return d=!0,e=[1,2],(c=m(g("text"),s(function(){return e},{itemFunc:function(e){return g(" "+e)}}))).mount(i),(0,b.expect)(i.innerHTML).to.equal("text 1 2"),e=[3],c.render(),dc.clean(),(0,b.expect)(i.innerHTML).to.equal("text 3",1),c.render(),dc.clean(),(0,b.expect)(i.innerHTML).to.equal("text 3",2)})})})},
/*!***************************************!*\
  !*** ./test/coffee/test-event.coffee ***!
  \***************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var o,r,u,c,i,a,d=n(/*! bdd-test-helper */0),l=n(/*! ./helper */1),p=dc;p.duplex,i=p.see,p.classFn,p.styleFrom,p.model,p.show,p.Tag,p.Text,p.List,p.Component,u=p.list,p.func,r=p.if_,a=p.txt,p.a,c=p.p,p.span,p.text,p.li,o=p.div,p.button,p.input,describe("component event",function(){return afterEach(function(){return dc.reset()}),it("component shoud call listeners before mounting",function(){var e,t;return t=0,(e=c()).on("willMount",function(){return t=1}),e.mount(),(0,d.expect)(t).to.equal(1)}),it("component shoud call listeners before mounting if_",function(){var e,t;return t=0,(e=r(1,2,3)).on("willMount",function(){return t=1}),e.mount(),(0,d.expect)(t).to.equal(1)}),it("component shoud call then_.listeners before updating if_",function(){var e,t,n;return n=i(0),e=r(n,t=a(1),a(2)),t.on("willMount",function(){return n(1)}),e.mount(),(0,d.expect)(n()).to.equal(0),n(1),e.render(),(0,d.expect)(n()).to.equal(1)}),it("component shoud not call embeded listeners before updating if_",function(){var e,t,n;return n=i(0),e=r(n,c(t=a(1)),a(2)),t.on("willMount",function(){return n(1)}),e.mount(),(0,d.expect)(n()).to.equal(0),n(1),e.render(),(0,d.expect)(n()).to.equal(1)}),it("component shoud call listeners after mounting",function(){var e,t;return t=i(0),(e=c()).on("willMount",function(){return t(1)}),e.on("willUnmount",function(){return t(2)}),e.mount(),(0,d.expect)(t()).to.equal(1),e.unmount(),(0,d.expect)(t()).to.equal(2)}),it("component shoud call mount and unmount listeners",function(){var e,t,n;return t=0,n=0,(e=r(1,2,3)).on("willMount",function(){return t=1}),e.on("willUnmount",function(){return n=2}),e.mount(),(0,d.expect)(t).to.equal(1),e.unmount(),(0,d.expect)(n).to.equal(2)}),it('component shoud NOT call then_.listeners["mount"] before updating if_',function(){var e,t,n,o,u;return o=i(0),u=0,e=r(o,t=a(1),n=a(2)),t.on("willMount",function(){return o(1)}),n.on("willUnmount",function(){return u=2}),e.mount(),(0,d.expect)(o()).to.equal(0,"mount"),o(1),e.render(),(0,d.expect)(o()).to.equal(1),(0,d.expect)(u).to.equal(0)}),it("component shoud NOT call embeded mountCallback before updating if_",function(){var e,t,n;return n=i(0),0,e=r(n,c(t=a(1)),c(a(2))),t.on("willMount",function(){return n(1)}),e.mount(),(0,d.expect)(n()).to.equal(0),n(1),e.render(),(0,d.expect)(n()).to.equal(1),(0,d.expect)(0).to.equal(0)})}),describe("delegate event",function(){return it("component should delegate click event",function(){var e,t;return t=0,(e=c()).mount(),e.delegate("click"),e.do_click=function(){return t=1},e.node.onclick((0,l.fakeEvent)(e.node)),(0,d.expect)(t).to.equal(1)}),it("component should delegate click event to its holder",function(){var e,t,n;return n=0,(t=u([e=c()])).mount(),e.delegateToHolder("click"),t.do_click=function(){return n=1},e.node.onclick((0,l.fakeEvent)(e.node)),(0,d.expect)(n).to.equal(1)}),it("component should delegate click event from tag ancestor to its holder",function(){var e,t,n,r;return r=0,(t=o(n=u([e=c()]))).mount(),t.delegateToHolder("click"),n.do_click=function(){return r=1},t.node.onclick((0,l.fakeEvent)(e.node)),(0,d.expect)(e.node.onclick).to.be.null,(0,d.expect)(r).to.equal(1)}),it("component should delegate click event by given component",function(){var e,t,n,r;return r=0,(t=o(n=u([e=c()]))).mount(),t.delegateToComponent("click",n),n.do_click=function(){return r=1},t.node.onclick((0,l.fakeEvent)(e.node)),(0,d.expect)(e.node.onclick).to.be.null,(0,d.expect)(r).to.equal(1)})})}]);